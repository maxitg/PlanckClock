<html>
<head>
<title>Planck Clock</title>
<script type="text/javascript" src="MathContext.js"></script>
<script type="text/javascript" src="BigDecimal.js"></script> 
<script type="text/javascript" src="javascript-biginteger/biginteger.js"></script>

<script type="text/javascript">

function fullTimeToString(bigTime)
{
	timeString = bigTime.toString(16).toLowerCase();

	era = "<small>" + timeString.substring(timeString.length-51,timeString.length-48) + "</small> ";
	age = "<small>" + timeString.substring(timeString.length-48,timeString.length-44) + "</small> ";
	year = "<small>" + timeString.substring(timeString.length-44,timeString.length-42) + "</small> ";
	date = "<big>" + timeString.substring(timeString.length-42,timeString.length-40) + "</big>:";
	minute = "<big>" + timeString.substring(timeString.length-40,timeString.length-38) + "</big> ";
	second = "<small>" + timeString.substring(timeString.length-38,timeString.length-36) + "</small>";
//	subsecond = ".<small>" + timeString.substring(timeString.length-36,timeString.length-35) + "</small>";

	return era+age+year+date+minute+second;
}

function bigTime(today)
{
	var b = BigInteger.parse(String(today.getTime()));
	b = b.add(new BigDecimal("2208988800000"));
	b = b.add(new BigDecimal("433600000000000000000"));
	b = b.multiply(new BigDecimal("1.8549227795646867220918E40"));

	return b;
}

function fulltime(today)
{
	return '<font size="20" face="courier">' + fullTimeToString(bigTime(today)) + ' <font size="-1">&middot10<sup>24</sup></font>' + '</font>';
}

function startTime()
{
	document.getElementById('curtime').innerHTML=fulltime(new Date())+'<font size="2" face="courier"> (&plusmn a<font size="-1">&middot10<sup>30</sup></font>)';

	t = setTimeout("startTime()",1166);
}

</script>
</head>

<body onload="startTime()">
<h1 style="text-align:center;"><div id="curtime"> </div></h1>

<table id="eventtable"> </table>

</body>
</html>

